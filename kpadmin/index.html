<!DOCTYPE html>
<html lang="en">

   <head>
      <title> Kaoook Vending </title>
      <base href="/2019/" target="_blank">
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
      <!-- Meta, title, CSS, favicons, etc. -->
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="icon" href="images/favicon.ico" type="image/ico" />

      <meta name="Author" content="Toonni Lomio">

      <!--
      <meta http-equiv="cache-control" content="max-age=0" />
      <meta http-equiv="cache-control" content="no-cache" />
      <meta http-equiv="expires" content="0" />
      <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
      <meta http-equiv="pragma" content="no-cache" />-->


      <!-- Bootstrap -->
      <link href="/css/animate.css" rel="stylesheet" type="text/css"/>
      <link href="/css/bootstrap/bootstrap.min.css" rel="stylesheet" type="text/css"/>
      <link href="/css/left_menu.css" rel="stylesheet" type="text/css"/>
      <link href="/css/font-awesome.min.css" rel="stylesheet" type="text/css"/>
      <!-- Custom Theme Style -->
      <link href="/css/custom.css?1560499265" rel="stylesheet">
      <link href="/css/advws.css?1560499265" rel="stylesheet">
      <link href="/css/pnotify.custom.min.css" rel="stylesheet" type="text/css"/>
      <script src="/js/jquery.min.js"></script>
      <script src="/js/pnotify.custom.min.js" type="text/javascript"></script>
      <script src="/js/moments.min.js" type="text/javascript"></script>
      <script src="/js/socket.io-client.js" type="text/javascript"></script>
      <script src="/js/CryptoJS.js"></script>
      <script src="/js/advscript.js" type="text/javascript"></script>
      <!-- Bootstrap -->
      <script src="/js/bootstrap/bootstrap.min.js"></script>


      <script src="/js/custom.js" type="text/javascript"></script>

      <!-- Chart.js -->
      <script src="/js/echarts/Chart.min.js"></script>
      <!-- ECharts -->
      <script src="/js/echarts/echarts.min.js"></script>




      <script>
         PNotify.prototype.options.styling = "bootstrap3";
         PNotify.prototype.options.delay = 500;
         //console.log(PNotify.prototype.options);   http://sciactive.com/pnotify/
      </script>

   </head>

   <body class="nav-md" >
      <div class="container body">
         <div class="main_container" id='mainpage_body'>

            <div class="col-md-3 left_col" id="inc_menu_main">
            </div> <!-- Left Menu -->

            <div class="top_nav" id="inc_top_nav">
            </div> <!-- TopMenu -->

            <div class="right_col" role="main" id='page_maincontent'>
            </div> <!-- Show Content -->

            <!-- footer content -->


            <footer>
               <div class="pull-right">
                  <b class="b600">Kapook Vending </b> Admin <b class="b600">System</b>, Develop by <a href="http://advws.com/" target="_blank"><b class="b600">Advws PCL.</b></a>
               </div>
               <div class="clearfix"></div>
            </footer>
            <!-- /footer content -->
         </div><!-- /main_container -->
      </div><!-- /container -->
      <script>

         var mytoken; // check existing mytoken
         var mappagenumber;

         var loginfnc;
         function checkloginsession() {
            if (!mytoken) {
               $.get('/api/member/gettoken', function (data) {
                  //  console.log("data = ", data);
                  if (!data || !data.mytoken) {
                     go2View('/cpanel/login');
                     return;
                  }
                  mytoken = data.mytoken;
                  ajax_settoken(mytoken);
                  $('#inc_menu_main').load('/kpadmin/inc_menu_main.html');
                  $('#inc_top_nav').load('/kpadmin/inc_top_nav.html');
               });
            } else {
               ajax_settoken(mytoken);
               $('#inc_menu_main').load('/kpadmin/inc_menu_main.html');
               $('#inc_top_nav').load('/kpadmin/inc_top_nav.html');
            }

         }
         checkloginsession();

         // check from cookie first then request  from web
      </script>

      <script>

         onPageshow('/cpanel/login', function (rawurl) {
            $('#mainpage_body').load('/kpadmin/login.html', function () {
               init_loginpage();
            });
         });
         onPageshow('/cpanel/logout', function (rawurl) {
            $('#mainpage_body').html('You Already Log Out... <a href="/2019/cpanel/home">HOme</a>');
         });
         /// Page Controller ////
         onPageshow('/cpanel/', function (rawurl) {
            console.log("main called");
         });


         onPageshow('/cpanel/home', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/body.html');
         });


         // Dashboard
         onPageshow('/cpanel/dashboard', function () {
            $('#page_maincontent').load('/kpadmin/dashboard.html', function (data) {
            });
         });

         // Menu Sold Transaction
         onPageshow('/cpanel/transaction/list', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/transaction_lists.html');
         });

         // Menu  Sales Report > Monthly Report
         onPageshow('/cpanel/sales/monthly', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_monthly.html');
         });

         // Menu Sale Report > Kiosk Report
         onPageshow('/cpanel/sales/kiosks', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_kiosks.html');
         });

         // Menu Sale Report > Slow Moveing Kiosk
         onPageshow('/cpanel/sales/kiosks_slowmoving', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_kiosks_slowmoving.html');
         });

         // Menu Sale Report > Last- Active Kiosk
         onPageshow('/cpanel/sales/kiosks_nonactive', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_kiosks_nonactive.html');
         });

         // Menu Sale Report > Product Report
         onPageshow('/cpanel/sales/products', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_products.html');
         });

         // Menu Sale Report > Slow Moving Kiosk
         onPageshow('/cpanel/sales/products_slowmoving', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_products_slowmoving.html');
         });

         // Menu Sale Report > Sales Period
         onPageshow('/cpanel/sales/period', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_period.html');
         });

         // Menu Sale Report > Sales Location
         onPageshow('/cpanel/sales/location', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/sales_location.html');
         });

         // Menu Kiosk > Kiosk List
         onPageshow('/cpanel/kiosk/list', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/kiosk_lists.html');
         });

         // Menu Kiosk Report >  Kiosk Report

         onPageshow('/cpanel/kiosk/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/kiosk_add.html');
         });

         // Menu Product >  Product Lists
         onPageshow('/cpanel/product/lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/product_lists.html');
         });

         // Menu Product >  Product Add
         onPageshow('/cpanel/product/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/product_add.html');
         });

         // Menu Product >  Category Lists
         onPageshow('/cpanel/category/lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/category_lists.html');
         });

         // Menu Product >  Category Add
         onPageshow('/cpanel/category/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/category_add.html');
         });

         // Menu Route >  Route list
         onPageshow('/cpanel/route/lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/route_list.html');
         });

         // Menu Route >  Route add
         onPageshow('/cpanel/route/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/route_add.html');
         });

         // Menu Kiosk Model >  Kiosk Model list
         onPageshow('/cpanel/kioskmodel/lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/kioskmodel_list.html');
         });


         // Menu Kiosk Model >  Kiosk Model Add
         onPageshow('/cpanel/kioskmodel/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/kioskmodel_add.html');
         });

         //menu export
         onPageshow('/cpanel/export/exportsold', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/export_sold.html');
         });

         // Menu Technical Report > Kiosk Check-in
         onPageshow('/cpanel/transaction/checkin', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/transaction_checkin.html');
         });

         // Menu Technical Report > Kiosk Reset
         onPageshow('/cpanel/transaction/reset', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/transaction_reset.html');
         });

         // Menu Slot > Slot Auto-Fill
         onPageshow('/cpanel/slot/autofill', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/slot_autofill.html');
         });

         // Menu Slot > Slot Technical Log
         onPageshow('/cpanel/slot/log', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/slot_log.html');
         });

         // Menu Staff > QR Code
         onPageshow('/cpanel/staff/qrcode', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/staff_qrcode.html');
         });

         // Menu Staff > Approve Staffs
         onPageshow('/cpanel/staff/approve', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/staff_approve.html');
         });

         // Menu Staff > Staff List
         onPageshow('/cpanel/staff/lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/staff_lists.html');
         });
         onPageshow('/cpanel/staff/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/staff_add.html');
         });


         // Menu Staff > Archived Lists
         onPageshow('/cpanel/staff/archived_lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/staff_archived_lists.html');
         });

         // Menu Staff >User Permission Lists
         onPageshow('/cpanel/staff/permission_lists', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/user_permission_lists.html');
         });

         // Menu Staff > Permission Add
         onPageshow('/cpanel/staff/permission_add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/user_permission_add.html');
         });

         // Menu Send Command
         onPageshow('/cpanel/staff/command', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/command.html');
         });


         onPageshow('/cpanel/vansale/add', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/vansale_add.html');
         });

         // Menu Send Command
         onPageshow('/cpanel/vansale/list', function (rawurl) {
            $('#page_maincontent').load('/kpadmin/vansale_list.html');
         });

         onPageshow('/cpanel/product/edit', function (rawurl) {
            var productid = rawurl.split('=');
            productid = productid[1];
            console.log('productid ' + productid);
            $('#page_maincontent').load('/kpadmin/product_edit.html', function () {
               product_showdata(productid);
            });
         });

         onPageshow('/cpanel/vansale/edit', function (rawurl) {
            var vansaleid = rawurl.split('=');
            vansaleid = vansaleid[1];
            console.log('vansaleid' + vansaleid);
            $('#page_maincontent').load('/kpadmin/vansale_edit.html', function () {
               vansale_showdata(vansaleid);
            });
         });




         onPageshow('/cpanel/kiosk/edit', function (rawurl) {
            var kioskid = rawurl.split('=');
            kioskid = kioskid[1];
            console.log('kioskid ' + kioskid);
            $('#page_maincontent').load('/kpadmin/kiosk_edit.html', function () {
               kiosk_showdata(kioskid);
               //console.log('55552');
            });
         });



         onPageshow('/cpanel/staff/edit', function (rawurl) {
            var staffid = rawurl.split('=');
            staffid = staffid[1];
            console.log('staffid ' + staffid);
            $('#page_maincontent').load('/kpadmin/staff_edit.html', function () {
               staff_showdata(staffid);
            });
         });


         onPageshow('/cpanel/category/edit', function (rawurl) {
            var categoryid = rawurl.split('=');
            categoryid = categoryid[1];
            console.log('categoryid : ' + categoryid);
            $('#page_maincontent').load('/kpadmin/category_edit.html', function () {
               category_showdata(categoryid);
            });
         });



         onPageshow('/cpanel/permission/edit', function (rawurl) {
            var permissionid = rawurl.split('=');
            permissionid = permissionid[1];

            $('#page_maincontent').load('/kpadmin/user_permission_edit.html', function () {
               console.log('permissionid : ' + permissionid);
               permission_showdata(permissionid);
            });
         });


         onPageshow('/cpanel/route/edit', function (rawurl) {
            var routeid = rawurl.split('=');
            routeid = routeid[1];

            $('#page_maincontent').load('/kpadmin/route_edit.html', function () {
               console.log('routeid : ' + routeid);
               route_showdata(routeid);
            });
         });


         onPageshow('/cpanel/kioskmodel/edit', function (rawurl) {
            var kioskmodelid = rawurl.split('=');
            kioskmodelid = kioskmodelid[1];

            $('#page_maincontent').load('/kpadmin/kioskmodel_edit.html', function () {
               console.log('kioskmodelid : ' + kioskmodelid);
               kioskmodel_showdata(kioskmodelid);
            });
         });

         go2View(starturl);

         jQuery.ready();
      </script>
   </body>


</html>
